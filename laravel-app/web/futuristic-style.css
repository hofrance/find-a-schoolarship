/* Futuristic Style - improved readability and theming */
:root {
  --primary-color:#06b6d4; --secondary-color:#ff6b35; --accent-color:#22d3ee;
  --background-primary:#0b1020; --background-secondary:#151a2e; --background-tertiary:#0f172a;
  --text-primary:#e5e7eb; --text-secondary:#cbd5e1; --text-muted:#94a3b8;
  --glass-bg:rgba(8,12,24,0.6); --glass-border:rgba(148,163,184,0.18);
  --shadow-glow:0 0 30px rgba(34,211,238,0.35); --shadow-card:0 10px 30px rgba(2,6,23,0.6);
  --border-color:#334155; --border-radius:14px; --transition:all .25s cubic-bezier(.4,0,.2,1);
  --primary-light:#67e8f9; --primary-dark:#0891b2; --secondary-light:#ff8f66; --secondary-dark:#cc4f26; --accent-light:#5eead4; --accent-dark:#0ea5a3;
  --success-color:#10b981; --warning-color:#f59e0b; --error-color:#ef4444; --info-color:#60a5fa;
}

html[data-theme='light']{
  --background-primary:#f8fafc; --background-secondary:#ffffff; --background-tertiary:#f1f5f9;
  --text-primary:#0f172a; --text-secondary:#334155; --text-muted:#64748b;
  --glass-bg:rgba(255,255,255,0.7); --glass-border:rgba(2,6,23,0.08);
  --border-color:#e2e8f0; --shadow-card:0 10px 30px rgba(2,6,23,0.05);
}

/* Dark theme text contrast tweaks without touching light mode */
html:not([data-theme='light']){
  --text-primary:#e8eaed; /* a bit brighter */
  --text-secondary:#d1d5db;
  --text-muted:#9aa3af;
}

* { box-sizing:border-box; }
html { scroll-behavior:smooth; }
body { font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background:linear-gradient(135deg,var(--background-primary) 0%,var(--background-secondary) 50%,var(--background-tertiary) 100%); background-attachment:fixed; color:var(--text-primary); min-height:100vh; line-height:1.65; overflow-x:hidden; }
body::before { content:''; position:fixed; inset:0; background:
  radial-gradient(1200px 600px at 10% 120%, rgba(34,211,238,.08), transparent 60%),
  radial-gradient(900px 500px at 90% -20%, rgba(99,102,241,.08), transparent 60%),
  radial-gradient(600px 600px at 50% 20%, rgba(236,72,153,.06), transparent 60%);
  pointer-events:none; z-index:-1; }

@keyframes fadeInUp { from{ opacity:0; transform:translateY(24px);} to{ opacity:1; transform:translateY(0);} }
@keyframes glowPulse { 0%,100%{ box-shadow:0 0 24px rgba(34,211,238,.35);} 50%{ box-shadow:0 0 42px rgba(34,211,238,.6);} }
@keyframes ripple { to { transform:scale(5); opacity:0; } }

/* Layout helpers */
.container { max-width:1200px; margin:0 auto; padding:0 1rem; }

/* Glassmorphism */
.glass, .glass-component { background:var(--glass-bg); border:1px solid var(--glass-border); border-radius:var(--border-radius); backdrop-filter:blur(18px); -webkit-backdrop-filter:blur(18px); box-shadow:var(--shadow-card); }
.card { background:var(--glass-bg); border:1px solid var(--glass-border); border-radius:var(--border-radius); padding:1rem; position:relative; overflow:hidden; backdrop-filter:blur(18px); transition:var(--transition); }
.card:hover { transform:translateY(-4px); box-shadow:var(--shadow-card); border-color:var(--primary-color); }
.card::before { content:''; position:absolute; inset:0; transform:translateX(-100%); background:linear-gradient(90deg,transparent,rgba(34,211,238,.12),transparent); transition:transform .8s; }
.card:hover::before { transform:translateX(100%); }

/* Navbar */
.navbar { background:rgba(21,26,46,.85); backdrop-filter:blur(16px); border-bottom:1px solid var(--glass-border); position:sticky; top:0; z-index:1000; padding:.75rem 0; }
.nav-container{ display:flex; gap:1rem; align-items:center; }
.nav-brand{ display:flex; align-items:center; gap:.6rem; font-weight:800; letter-spacing:.3px; }
.nav-brand i{ color:var(--primary-light); text-shadow:0 0 10px rgba(34,211,238,.6); }
.nav-brand span{ background:linear-gradient(45deg,var(--primary-light),var(--accent-color)); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; font-size:1.05rem; }
.nav-menu { display:flex; gap:.5rem; align-items:center; }
.nav-link { position:relative; overflow:hidden; padding:.5rem 1rem; border-radius:var(--border-radius); color:var(--text-secondary); text-decoration:none; transition:var(--transition); font-weight:600; display:inline-flex; align-items:center; gap:.5rem; }
.nav-link:hover, .nav-link.active { color:var(--primary-light); transform:translateY(-1px); }

/* Buttons */
.btn { position:relative; overflow:hidden; padding:.6rem 1rem; border:none; border-radius:var(--border-radius); font-weight:600; cursor:pointer; transition:var(--transition); display:inline-flex; align-items:center; gap:.5rem; text-decoration:none; font-family:inherit; font-size:.95rem; color:var(--text-primary); }
.btn::before { content:''; position:absolute; top:50%; left:50%; width:0; height:0; background:radial-gradient(circle, rgba(255,255,255,.35) 0%, transparent 70%); transform:translate(-50%,-50%); transition:all .6s; border-radius:50%; }
.btn:hover::before { width:280px; height:280px; }
.btn-primary { background:linear-gradient(45deg,var(--primary-color),var(--accent-color)); color:#0b1020; }
.btn-primary:hover { transform:translateY(-2px); box-shadow:0 8px 24px rgba(34,211,238,.35); }
.btn-outline { background:transparent; color:var(--primary-light); border:1px solid var(--primary-light); }
.btn-outline:hover { background:var(--primary-light); color:#0b1020; }
.btn:disabled{ opacity:.5; cursor:not-allowed; }

/* Inputs */
.input-futuristic { width:100%; padding:.7rem .85rem; background:var(--background-tertiary); border:1px solid var(--border-color); border-radius:var(--border-radius); color:var(--text-primary); transition:var(--transition); font-family:inherit; }
.input-futuristic::placeholder { color:var(--text-muted); }
.input-futuristic:focus { outline:none; border-color:var(--primary-light); box-shadow:0 0 0 3px rgba(34,211,238,.15); background:rgba(34,211,238,.06); }
label{ color:var(--text-muted); display:block; margin-bottom:.25rem; font-size:.8rem; font-weight:600; letter-spacing:.2px; }

/* Badges */
.badge { display:inline-flex; align-items:center; gap:.35rem; padding:.28rem .6rem; border-radius:18px; font-size:.78rem; font-weight:700; letter-spacing:.4px; border:1px solid var(--glass-border); color:var(--text-secondary); }
.badge-info{ color:var(--info-color); border-color:color-mix(in oklab, var(--info-color) 40%, transparent); background:rgba(96,165,250,.08); }
.badge-success{ color:var(--success-color); border-color:color-mix(in oklab, var(--success-color) 40%, transparent); background:rgba(16,185,129,.08); }
.badge-active { background:linear-gradient(45deg,var(--accent-color),#00cc7a); color:#06222a; animation:glowPulse 2s infinite; }

/* Table */
.table-container { background:var(--glass-bg); border-radius:var(--border-radius); overflow:hidden; backdrop-filter:blur(18px); border:1px solid var(--glass-border); }
.table-futuristic { width:100%; border-collapse:separate; border-spacing:0; }
.table-futuristic thead th { background:var(--background-tertiary); padding:1rem; text-align:left; font-weight:800; color:var(--primary-light); border-bottom:1px solid var(--border-color); text-transform:uppercase; letter-spacing:.6px; font-size:.85rem; position:sticky; top:0; z-index:1; }
.table-futuristic td { padding:1rem; border-bottom:1px solid var(--border-color); transition:var(--transition); font-size:.95rem; color:var(--text-secondary); }
.table-futuristic tr:hover { background:rgba(34,211,238,.06); }
.dataTables_wrapper .dataTables_processing{ color:var(--text-secondary); }

/* Choices.js theme */
.choices{ color:var(--text-primary); }
.choices__inner{ background:var(--background-tertiary) !important; border:1px solid var(--border-color) !important; color:var(--text-primary) !important; border-radius:var(--border-radius) !important; min-height:2.6rem; }
.choices__list--multiple .choices__item{ background:rgba(34,211,238,.15); border:1px solid var(--primary-light); color:var(--primary-light); border-radius:14px; font-weight:600; }
.choices__list--dropdown{ background:var(--background-secondary); border:1px solid var(--border-color); color:var(--text-primary); }
.choices__item--selectable.is-highlighted{ background:rgba(34,211,238,.15); }

/* Flatpickr theme */
.flatpickr-calendar{ background:var(--background-secondary); border:1px solid var(--border-color); box-shadow:var(--shadow-card); }
.flatpickr-day{ color:var(--text-primary); }
.flatpickr-day.today{ border-color:var(--primary-light); }
.flatpickr-day.selected, .flatpickr-day.startRange, .flatpickr-day.endRange{ background:var(--primary-light); color:#0b1020; border-color:var(--primary-light); }

/* Accessibility helpers */
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
.skip-link{ position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus{ left:1rem; top:1rem; width:auto; height:auto; padding:.5rem .75rem; background:var(--primary-light); color:#0b1020; border-radius:8px; z-index:2000; }

:focus-visible{ outline:3px solid color-mix(in oklab, var(--primary-light) 70%, white); outline-offset:2px; border-radius:10px; }

/* Pager numbers */
#pager .page-btn.active{ background:var(--primary-light); color:#0b1020; border-color:var(--primary-light); }
#pager .page-btn{ min-width:2.25rem; justify-content:center; padding:.45rem .6rem; }

/* Utilities */
.section-title { font-size:2.05rem; font-weight:900; background:linear-gradient(45deg,var(--primary-light),var(--accent-color)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; letter-spacing:.3px; }
.neon { text-shadow: 0 0 5px var(--primary-light), 0 0 10px var(--primary-light), 0 0 20px var(--primary-light); }
.d-flex{ display:flex; } .justify-between{ justify-content:space-between; } .align-center{ align-items:center; }
.mr-2{margin-right:1rem} .mt-2{margin-top:1rem}

/* Active filter chips */
.chips{ display:flex; gap:.4rem; flex-wrap:wrap; align-items:center; }
.chip{ display:inline-flex; align-items:center; gap:.35rem; padding:.3rem .55rem; border:1px solid var(--glass-border); border-radius:16px; background:var(--background-tertiary); color:var(--text-secondary); font-size:.8rem; }
.chip strong{ font-weight:700; color:var(--text-muted); margin-right:.15rem; }
.chip-remove{ appearance:none; border:0; background:transparent; color:var(--text-muted); font-size:1rem; line-height:1; cursor:pointer; padding:0 .1rem; }
.chip-remove:hover{ color:var(--error-color); }

/* Collapsible spacing */
.collapsible{ margin-top:.5rem; }

/* Floating action button (Back to top) */
.fab{ position:fixed; right:1rem; bottom:1rem; width:46px; height:46px; border-radius:9999px; display:flex; align-items:center; justify-content:center; background:linear-gradient(45deg,var(--primary-light),var(--accent-color)); color:#0b1020; border:1px solid var(--glass-border); box-shadow:0 12px 28px rgba(2,6,23,.45), var(--shadow-glow); transition:var(--transition); opacity:0; transform:translateY(12px); pointer-events:none; z-index:1200; }
.fab:hover{ transform:translateY(6px) scale(1.03); }
.fab.show{ opacity:1; transform:translateY(0); pointer-events:auto; }

/* Sticky filters */
#filters.filters-sticky{ position:sticky; top:72px; z-index:800; transition:box-shadow .2s ease, border-color .2s ease, background .2s ease; }
#filters.filters-sticky.is-stuck{ box-shadow:0 8px 24px rgba(2,6,23,.55); border-color:var(--primary-light); background:color-mix(in oklab, var(--glass-bg) 85%, transparent); }
#filters-sentinel{ position:relative; height:1px; }

/* Mobile bottom action bar */
.mobile-actions{ position:fixed; left:0; right:0; bottom:0; display:none; gap:.5rem; align-items:center; justify-content:space-around; padding:.4rem .75rem calc(.4rem + env(safe-area-inset-bottom)); background:rgba(15,23,42,.82); backdrop-filter:blur(14px); border-top:1px solid var(--glass-border); z-index:1200; }
.mobile-actions .m-btn{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.25rem; color:var(--text-secondary); text-decoration:none; font-size:.74rem; font-weight:700; letter-spacing:.2px; }
.mobile-actions .m-btn i{ font-size:1.1rem; color:var(--primary-light); }
.mobile-actions .m-btn:active{ transform:translateY(1px); }

/* Show mobile actions on small screens and add bottom padding to avoid overlap */
@media (max-width:768px){
  .mobile-actions{ display:flex; }
  body{ padding-bottom:calc(64px + env(safe-area-inset-bottom)); }
  /* Make sticky offset smaller on mobile due to shorter navbar */
  #filters.filters-sticky{ top:58px; }
}

/* Responsive */
@media (max-width:768px){ .nav-menu{flex-wrap:wrap; justify-content:center;} .table-futuristic{ font-size:.92rem; } .table-futuristic thead{ position:sticky; top:48px; } }

/* Typography polish */
.p-strong{ font-weight:600; color:var(--text-primary); }
.p-muted{ color:var(--text-muted); }

/* Better table readability on mobile */
@media (max-width:768px){
  .table-futuristic td{ padding:.75rem .6rem; font-size:.9rem; }
  .table-futuristic thead th{ padding:.6rem; font-size:.78rem; }
}
